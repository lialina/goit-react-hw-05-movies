(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link__2G3g4",activeLink:"Navigation_activeLink__FAiEK"}},20:function(e,t,c){e.exports={Container:"Container_Container__2jQKL"}},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(13),i=c.n(a),s=c(5),j=c(3),o=c(20),l=c.n(o),u=c(1);var b=function(e){var t=e.children;return Object(u.jsx)("div",{className:l.a.Container,children:t})},O=c(11),d=c.n(O),h=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("nav",{children:[Object(u.jsx)(s.c,{exact:!0,className:d.a.link,activeClassName:d.a.activeLink,to:"/",children:"Home"}),Object(u.jsx)(s.c,{className:d.a.link,activeClassName:d.a.activeLink,to:"/movies",children:"Movies"})]}),Object(u.jsx)("hr",{})]})},x=c(2),f=c(17),v=c.n(f),m=c(23),p="https://api.themoviedb.org/3",g="531a27e0122c94d8ab2e66598c1071a6";function S(){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(v.a.mark((function e(){var t,c,n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",c=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=new Error("Possibly server error, please try again");case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var t=e.message;return Object(u.jsx)("div",{role:"alert",children:Object(u.jsx)("p",{children:t})})},_="idle",w="resolved",C="rejected";function F(){var e=Object(n.useState)(_),t=Object(x.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),i=Object(x.a)(a,2),j=i[0],o=i[1],l=Object(n.useState)([]),b=Object(x.a)(l,2),O=b[0],d=b[1];return Object(n.useEffect)((function(){S("".concat(p,"/trending/movie/day?api_key=").concat(g)).then((function(e){return e.results})).then((function(e){d(e),r(w)})).catch((function(e){o(e),r(C)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Trending today"}),Object(u.jsxs)("div",{children:[c===C&&Object(u.jsx)(y,{message:j.message}),c===w&&Object(u.jsx)("ul",{children:O.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"movies/".concat(e.id),children:e.title})},e.id)}))})]})]})}var E=c(18),N=(c(36),c(24)),L=c.n(N),I="idle",U="resolved",P="rejected";function A(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(x.a)(a,2),j=i[0],o=i[1],l=Object(n.useState)([]),b=Object(x.a)(l,2),O=b[0],d=b[1],h=Object(n.useState)(I),f=Object(x.a)(h,2),v=f[0],m=f[1],k=Object(n.useState)(null),_=Object(x.a)(k,2),w=_[0],C=_[1],F=L.a.generate(),N=function(){o("")};return Object(n.useEffect)((function(){c&&function(e){return S("".concat(p,"/search/movie?api_key=").concat(g,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}(c).then((function(e){return e.results})).then((function(e){d(e),m(U)})).catch((function(e){C(e),m(P)}))}),[c]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==j.trim()?(r(j),N()):E.b.error("Please, enter your query")},children:[Object(u.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"input",value:j,onChange:function(e){m(I),o(e.currentTarget.value.toLowerCase())},id:F}),Object(u.jsx)("button",{type:"submit",children:"Search"})]}),v===P&&Object(u.jsx)(y,{message:w.message}),v===U&&Object(u.jsx)("ul",{children:O.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)(s.b,{to:"movies/".concat(e.id),children:[e.title," ",e.release_date&&Object(u.jsxs)(u.Fragment,{children:["(",e.release_date.slice(0,4),")"]})]})},e.id)}))}),Object(u.jsx)(E.a,{autoClose:5e3})]})}var G="idle",M="resolved",q="rejected";function J(){var e=Object(j.f)().movieId,t=Object(n.useState)([]),c=Object(x.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)(G),s=Object(x.a)(i,2),o=s[0],l=s[1],b=Object(n.useState)(null),O=Object(x.a)(b,2),d=O[0],h=O[1];return Object(n.useEffect)((function(){(function(e){return S("".concat(p,"/movie/").concat(e,"/credits?api_key=").concat(g,"&language=en-US"))})(e).then((function(e){return e.cast})).then((function(e){a(e),l(M),console.log(e)})).catch((function(e){h(e),l(q)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[o===q&&Object(u.jsx)(y,{message:d.message}),o===M&&Object(u.jsx)("ul",{children:r.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.profile_path),alt:"Photo of the actor",width:"120"}),Object(u.jsx)("p",{children:e.name}),Object(u.jsxs)("p",{children:["Character: ",e.character]})]})},e.id)}))})]})}var K="idle",T="resolved",B="empty",D="rejected";function H(){var e=Object(j.f)().movieId,t=Object(n.useState)([]),c=Object(x.a)(t,2),r=c[0],a=c[1],i=Object(n.useState)(K),s=Object(x.a)(i,2),o=s[0],l=s[1],b=Object(n.useState)(null),O=Object(x.a)(b,2),d=O[0],h=O[1];return Object(n.useEffect)((function(){(function(e){return S("".concat(p,"/movie/").concat(e,"/reviews?api_key=").concat(g,"&language=en-US&page=1"))})(e).then((function(e){return e.results})).then((function(e){0!==e.length?(console.log(e),a(e),l(T)):l(B)})).catch((function(e){h(e),l(D)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[o===D&&Object(u.jsx)(y,{message:d.message}),o===B&&Object(u.jsx)("div",{children:"We don't have any reviews for this movie"}),o===T&&Object(u.jsx)("ul",{children:r.map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsxs)("p",{children:["Author: ",e.author]}),Object(u.jsx)("p",{children:e.content})]},e.id)}))})]})}var Q="idle",R="resolved",W="rejected";function $(){var e=Object(j.f)().movieId,t=Object(j.g)(),c=t.url,r=t.path,a=Object(n.useState)(null),i=Object(x.a)(a,2),o=i[0],l=i[1],b=Object(n.useState)(Q),O=Object(x.a)(b,2),d=O[0],h=O[1],f=Object(n.useState)(null),v=Object(x.a)(f,2),m=v[0],k=v[1];return Object(n.useEffect)((function(){(function(e){return S("".concat(p,"/movie/").concat(e,"?api_key=").concat(g,"&language=en-US"))})(e).then((function(e){l(e),h(R)})).catch((function(e){k(e),h(W)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.b,{to:"/",children:"Go back"}),Object(u.jsxs)("h2",{children:["\u042f \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 \u0441 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u0430 $",e]}),d===W&&Object(u.jsx)(y,{message:m.message}),d===R&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(o.poster_path),alt:"Movie poster",width:"250"}),Object(u.jsx)("h3",{children:o.title}),Object(u.jsx)("p",{children:"User Score: %"}),Object(u.jsx)("h4",{children:"Overview"}),Object(u.jsx)("p",{children:o.overview}),Object(u.jsx)("h5",{children:"Genres"}),Object(u.jsx)("ul",{children:o.genres.map((function(e){return Object(u.jsx)("li",{children:e.name},e.id)}))})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Additional information"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(c,"/reviews"),children:"Reviews"})})]})]})]}),Object(u.jsx)(j.a,{path:"".concat(r,"/cast"),children:Object(u.jsx)(J,{})}),Object(u.jsx)(j.a,{path:"".concat(r,"/reviews"),children:Object(u.jsx)(H,{})})]})}function z(){return Object(u.jsx)("h1",{children:"404 Page not found"})}var V=function(){return Object(u.jsxs)(b,{children:[Object(u.jsx)(h,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",exact:!0,children:Object(u.jsx)(F,{})}),Object(u.jsx)(j.a,{path:"/movies",exact:!0,children:Object(u.jsx)(A,{})}),Object(u.jsx)(j.a,{path:"/movies/:movieId",children:Object(u.jsx)($,{})}),Object(u.jsx)(j.a,{children:Object(u.jsx)(z,{})})]})]})};c(45),c(46);i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(V,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0e7d9d73.chunk.js.map