(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link__2G3g4",activeLink:"Navigation_activeLink__FAiEK"}},18:function(e,t,c){e.exports={Container:"Container_Container__2jQKL"}},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),s=c(17),r=c.n(s),a=c(4),j=c(2),o=c(18),b=c.n(o),l=c(0);var d=function(e){var t=e.children;return Object(l.jsx)("div",{className:b.a.Container,children:t})},O=c(11),h=c.n(O),u=function(){return Object(l.jsxs)("nav",{children:[Object(l.jsx)(a.c,{exact:!0,className:h.a.link,activeClassName:h.a.activeLink,to:"/",children:"Home"}),Object(l.jsx)(a.c,{className:h.a.link,activeClassName:h.a.activeLink,to:"/movies",children:"Movies"})]})},x=c(7),v=c(15),f=c.n(v),m=c(21),g="https://api.themoviedb.org/3",p="531a27e0122c94d8ab2e66598c1071a6";function k(){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(f.a.mark((function e(){var t,c,n,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",c=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=new Error("Possibly server error, please try again");case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var t=e.message;return Object(l.jsx)("div",{role:"alert",children:Object(l.jsx)("p",{children:t})})},I="idle",_="resolved",y="rejected";function C(){var e=Object(n.useState)(I),t=Object(x.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(null),r=Object(x.a)(s,2),j=r[0],o=r[1],b=Object(n.useState)([]),d=Object(x.a)(b,2),O=d[0],h=d[1];return Object(n.useEffect)((function(){k("".concat(g,"/trending/movie/day?api_key=").concat(p)).then((function(e){return e.results})).then((function(e){h(e),i(_)})).catch((function(e){o(e),i(y)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Hi, I am HomePage"}),Object(l.jsx)("h2",{children:"Trending today"}),Object(l.jsxs)("div",{children:[c===y&&Object(l.jsx)(S,{message:j.message}),c===_&&Object(l.jsx)("ul",{children:O.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"movies/".concat(e.id),children:e.title})},e.id)}))})]})]})}function N(){return Object(l.jsx)("div",{children:"Hi, I'm MoviesPage"})}var E="idle",M="rejected";function F(){var e=Object(j.f)().movieId,t=Object(n.useState)([]),c=Object(x.a)(t,2),i=c[0],s=c[1],r=Object(n.useState)(E),a=Object(x.a)(r,2),o=a[0],b=a[1],d=Object(n.useState)(null),O=Object(x.a)(d,2),h=O[0],u=O[1];return console.log(i),Object(n.useEffect)((function(){(function(e){return k("".concat(g,"/movie/").concat(e,"/credits?api_key=").concat(p,"&language=en-US"))})(e).then((function(e){s(e),console.log(e)})).catch((function(e){u(e),b(M)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[o===M&&Object(l.jsx)(S,{message:h.message}),Object(l.jsxs)(l.Fragment,{children:["It is Cast of Movie with ID #",e]})]})}function L(){var e=Object(j.f)().movieId;return Object(l.jsxs)("div",{children:["It is Reviews of Movie with ID #",e]})}var H="idle",P="resolved",G="rejected";function U(){var e=Object(j.f)().movieId,t=Object(j.g)(),c=t.url,i=t.path,s=Object(n.useState)(null),r=Object(x.a)(s,2),o=r[0],b=r[1],d=Object(n.useState)(H),O=Object(x.a)(d,2),h=O[0],u=O[1],v=Object(n.useState)(null),f=Object(x.a)(v,2),m=f[0],w=f[1],I=Object(n.useState)([]),_=Object(x.a)(I,2);_[0],_[1];return Object(n.useEffect)((function(){(function(e){return k("".concat(g,"/movie/").concat(e,"?api_key=").concat(p,"&language=en-US"))})(e).then((function(e){b(e),u(P)})).catch((function(e){w(e),u(G)}))}),[e]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(a.b,{to:"/",children:"Go back"}),Object(l.jsxs)("h2",{children:["\u042f \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 \u0441 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u0430 $",e]}),h===G&&Object(l.jsx)(S,{message:m.message}),h===P&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(o.poster_path),alt:"Movie poster",width:250}),Object(l.jsx)("h3",{children:o.title}),Object(l.jsx)("p",{children:"User Score: %"}),Object(l.jsx)("h4",{children:"Overview"}),Object(l.jsx)("p",{children:o.overview}),Object(l.jsx)("h5",{children:"Genres"}),Object(l.jsx)("ul",{children:o.genres.map((function(e){return Object(l.jsx)("li",{children:e.name},e.id)}))})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Additional information"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.c,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.c,{to:"".concat(c,"/reviews"),children:"Reviews"})})]})]})]}),Object(l.jsx)(j.a,{path:"".concat(i,"/:movieId/cast"),children:Object(l.jsx)(F,{})}),Object(l.jsx)(j.a,{path:"".concat(i,"/:movieId/reviews"),children:Object(l.jsx)(L,{})})]})}function A(){return Object(l.jsx)("h1",{children:"404 Page not found"})}var D=function(){return Object(l.jsxs)(d,{children:[Object(l.jsx)(u,{}),Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/",exact:!0,children:Object(l.jsx)(C,{})}),Object(l.jsx)(j.a,{path:"/movies",exact:!0,children:Object(l.jsx)(N,{})}),Object(l.jsx)(j.a,{path:"/movies/:movieId",children:Object(l.jsx)(U,{})}),Object(l.jsx)(j.a,{children:Object(l.jsx)(A,{})})]})]})};c(33),c(34);r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(a.a,{children:Object(l.jsx)(D,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.9d2dc9df.chunk.js.map