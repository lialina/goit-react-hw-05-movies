(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{32:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return d}));var c=n(35),r=n.n(c),a=n(37),u="https://api.themoviedb.org/3",o="531a27e0122c94d8ab2e66598c1071a6";function i(){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(r.a.mark((function e(){var t,n,c,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(c=e.sent).ok){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=new Error("Possibly server error, please try again");case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return i("".concat(u,"/trending/movie/day?api_key=").concat(o))}function b(e){return i("".concat(u,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}function f(e){return i("".concat(u,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))}function j(e){return i("".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))}function d(e){return i("".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"))}},33:function(e,t,n){"use strict";var c=n(1);t.a=function(e){var t=e.message;return Object(c.jsx)("div",{role:"alert",children:Object(c.jsx)("p",{children:t})})}},54:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var c=n(34),r=n(0),a=n(52),u=(n(39),n(40)),o=n.n(u),i=n(32),s=n(33),l=n(8),b=n(1),f="idle",j="resolved",d="rejected";function p(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],u=t[1],p=Object(r.useState)(""),h=Object(c.a)(p,2),v=h[0],g=h[1],O=Object(r.useState)([]),m=Object(c.a)(O,2),x=m[0],y=m[1],S=Object(r.useState)(f),k=Object(c.a)(S,2),w=k[0],_=k[1],C=Object(r.useState)(null),U=Object(c.a)(C,2),F=U[0],q=U[1],E=o.a.generate(),J=function(){g("")};return Object(r.useEffect)((function(){n&&Object(i.d)(n).then((function(e){return e.results})).then((function(e){y(e),_(j)})).catch((function(e){q(e),_(d)}))}),[n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==v.trim()?(u(v),J()):a.b.error("Please, enter your query")},children:[Object(b.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"input",value:v,onChange:function(e){_(f),g(e.currentTarget.value.toLowerCase())},id:E}),Object(b.jsx)("button",{type:"submit",children:"Search"})]}),w===d&&Object(b.jsx)(s.a,{message:F.message}),w===j&&Object(b.jsx)("ul",{children:x.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)(l.b,{to:"movies/".concat(e.id),children:[e.title," ",e.release_date&&Object(b.jsxs)(b.Fragment,{children:["(",e.release_date.slice(0,4),")"]})]})},e.id)}))}),Object(b.jsx)(a.a,{autoClose:5e3})]})}}}]);
//# sourceMappingURL=movies-page.bc8d8c62.chunk.js.map