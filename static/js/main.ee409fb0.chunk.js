(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link__2G3g4",activeLink:"Navigation_activeLink__FAiEK"}},19:function(e,t,c){e.exports={Container:"Container_Container__2jQKL"}},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(13),a=c.n(i),s=c(5),j=c(2),o=c(19),l=c.n(o),u=c(1);var b=function(e){var t=e.children;return Object(u.jsx)("div",{className:l.a.Container,children:t})},h=c(11),d=c.n(h),O=function(){return Object(u.jsxs)("nav",{children:[Object(u.jsx)(s.c,{exact:!0,className:d.a.link,activeClassName:d.a.activeLink,to:"/",children:"Home"}),Object(u.jsx)(s.c,{className:d.a.link,activeClassName:d.a.activeLink,to:"/movies",children:"Movies"})]})},x=c(4),v=c(17),f=c.n(v),m=c(22),p="https://api.themoviedb.org/3",g="531a27e0122c94d8ab2e66598c1071a6";function S(){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(f.a.mark((function e(){var t,c,n,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",c=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=new Error("Possibly server error, please try again");case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.message;return Object(u.jsx)("div",{role:"alert",children:Object(u.jsx)("p",{children:t})})},y="idle",_="resolved",C="rejected";function I(){var e=Object(n.useState)(y),t=Object(x.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(null),a=Object(x.a)(i,2),j=a[0],o=a[1],l=Object(n.useState)([]),b=Object(x.a)(l,2),h=b[0],d=b[1];return Object(n.useEffect)((function(){S("".concat(p,"/trending/movie/day?api_key=").concat(g)).then((function(e){return e.results})).then((function(e){d(e),r(_)})).catch((function(e){o(e),r(C)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Hi, I am HomePage"}),Object(u.jsx)("h2",{children:"Trending today"}),Object(u.jsxs)("div",{children:[c===C&&Object(u.jsx)(w,{message:j.message}),c===_&&Object(u.jsx)("ul",{children:h.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(s.b,{to:"movies/".concat(e.id),children:e.title})},e.id)}))})]})]})}var E=c(24),N=(c(36),c(23)),L=c.n(N);function F(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),a=Object(x.a)(i,2),s=(a[0],a[1]),j=L.a.generate();Object(n.useEffect)((function(){c&&function(e){return S("".concat(p,"/search/movie?api_key=").concat(g,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}(c).then((function(e){return console.log(e)}))}),[c]);var o=function(){r("")};return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(!function(e){r(e),s([])}(c),o()):E.a.error("Please, enter your query")},children:[Object(u.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query",value:c,onChange:function(e){r(e.currentTarget.value.toLowerCase())},id:j}),Object(u.jsx)("button",{type:"submit",children:"Search"})]})}var P="idle",M="resolved",U="rejected";function q(){var e=Object(j.f)().movieId,t=Object(n.useState)([]),c=Object(x.a)(t,2),r=c[0],i=c[1],a=Object(n.useState)(P),s=Object(x.a)(a,2),o=s[0],l=s[1],b=Object(n.useState)(null),h=Object(x.a)(b,2),d=h[0],O=h[1];return console.log(r),Object(n.useEffect)((function(){(function(e){return S("".concat(p,"/movie/").concat(e,"/credits?api_key=").concat(g,"&language=en-US"))})(e).then((function(e){return e.cast})).then((function(e){i(e),l(M),console.log(e)})).catch((function(e){O(e),l(U)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[o===U&&Object(u.jsx)(w,{message:d.message}),o===M&&Object(u.jsx)("ul",{children:r.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.profile_path),alt:"Photo of the actor",width:"120"}),Object(u.jsx)("p",{children:e.name}),Object(u.jsxs)("p",{children:["Character: ",e.character]})]})},e.id)}))})]})}function G(){var e=Object(j.f)().movieId;return Object(u.jsxs)("div",{children:["It is Reviews of Movie with ID #",e]})}var H="idle",A="resolved",D="rejected";function J(){var e=Object(j.f)().movieId,t=Object(j.g)(),c=t.url,r=t.path,i=Object(n.useState)(null),a=Object(x.a)(i,2),o=a[0],l=a[1],b=Object(n.useState)(H),h=Object(x.a)(b,2),d=h[0],O=h[1],v=Object(n.useState)(null),f=Object(x.a)(v,2),m=f[0],k=f[1],y=Object(n.useState)([]),_=Object(x.a)(y,2);_[0],_[1];return Object(n.useEffect)((function(){(function(e){return S("".concat(p,"/movie/").concat(e,"?api_key=").concat(g,"&language=en-US"))})(e).then((function(e){l(e),O(A)})).catch((function(e){k(e),O(D)}))}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.b,{to:"/",children:"Go back"}),Object(u.jsxs)("h2",{children:["\u042f \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 \u0441 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u0430 $",e]}),d===D&&Object(u.jsx)(w,{message:m.message}),d===A&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(o.poster_path),alt:"Movie poster",width:"250"}),Object(u.jsx)("h3",{children:o.title}),Object(u.jsx)("p",{children:"User Score: %"}),Object(u.jsx)("h4",{children:"Overview"}),Object(u.jsx)("p",{children:o.overview}),Object(u.jsx)("h5",{children:"Genres"}),Object(u.jsx)("ul",{children:o.genres.map((function(e){return Object(u.jsx)("li",{children:e.name},e.id)}))})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Additional information"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(s.c,{to:"".concat(c,"/reviews"),children:"Reviews"})})]})]})]}),Object(u.jsx)(j.a,{path:"".concat(r,"/cast"),children:Object(u.jsx)(q,{})}),Object(u.jsx)(j.a,{path:"".concat(r,"/reviews"),children:Object(u.jsx)(G,{})})]})}function K(){return Object(u.jsx)("h1",{children:"404 Page not found"})}var R=function(){return Object(u.jsxs)(b,{children:[Object(u.jsx)(O,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",exact:!0,children:Object(u.jsx)(I,{})}),Object(u.jsx)(j.a,{path:"/movies",exact:!0,children:Object(u.jsx)(F,{})}),Object(u.jsx)(j.a,{path:"/movies/:movieId",children:Object(u.jsx)(J,{})}),Object(u.jsx)(j.a,{children:Object(u.jsx)(K,{})})]})]})};c(45),c(46);a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(R,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ee409fb0.chunk.js.map